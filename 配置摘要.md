# Rasa API 配置摘要

## ✅ 您的配置信息

- **Rasa Webhook URL**: `https://rasa-service.zeabur.app/webhooks/rest/webhook`
- **Rasa 基礎 URL**: `https://rasa-service.zeabur.app` ⬅️ **這個需要在 Vercel 設置**

## 🎯 需要做的事情（只需 1 步）

### 在 Vercel Dashboard 設置環境變數

1. 訪問 [Vercel Dashboard](https://vercel.com/dashboard) → 選擇您的專案
2. 前往 **Settings** → **Environment Variables**
3. 添加環境變數：
   - **Key**: `RASA_SERVER_URL`
   - **Value**: `https://rasa-service.zeabur.app`
   - **Environments**: 全部選擇（Production, Preview, Development）
4. 點擊 **Save**
5. **重新部署**專案（Deployments → 最新部署 → ⋯ → Redeploy）

## ✅ 已完成的配置

- ✅ API 路由已配置（`api/rasa/webhook.js` 和 `api/rasa/status.js`）
- ✅ Vercel 路由規則已設置（`vercel.json`）
- ✅ 前端代碼已配置為使用相對路徑

## 🧪 測試配置

部署完成後，在瀏覽器控制台執行：

```javascript
// 測試 Status API
fetch('/api/rasa/status')
  .then(r => r.json())
  .then(data => console.log('✅ Status:', data))
  .catch(err => console.error('❌ 錯誤:', err));

// 測試 Webhook API
fetch('/rasa/webhooks/rest/webhook', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ sender: 'test', message: '你好' })
})
  .then(r => r.json())
  .then(data => console.log('✅ Webhook:', data))
  .catch(err => console.error('❌ 錯誤:', err));
```

## 📚 詳細文檔

- **完整配置指南**: `Rasa_API配置完成指南.md`
- **Vercel 設置步驟**: `VERCEL環境變數設置步驟.md`
- **配置檢查腳本**: `check_rasa_config.js`（可在瀏覽器控制台執行）

## ⚠️ 重要提醒

- **只填寫基礎 URL**：`https://rasa-service.zeabur.app`
- **不要包含路徑**：不要填寫 `/webhooks/rest/webhook`
- **必須重新部署**：設置環境變數後必須重新部署才能生效

## 🎉 完成後

配置完成後，您的 AI 聊天功能就可以正常使用了！

如果遇到問題，請參考 `Rasa_API配置完成指南.md` 中的故障排除部分。

